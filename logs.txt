remote: [tester::#NA2] Running tests for Stage #NA2 (Replication - WAIT with multiple commands)
remote: [tester::#NA2] $ ./your_program.sh --port 6379
remote: [tester::#NA2] Proceeding to create 4 replicas.
remote: [tester::#NA2] [setup] Creating 4 replicas:
remote: [tester::#NA2] [setup] 1. replica@6380 (Listening port = 6380)
remote: [tester::#NA2] [setup] 2. replica@6381 (Listening port = 6381)
remote: [tester::#NA2] [setup] 3. replica@6382 (Listening port = 6382)
remote: [tester::#NA2] [setup] 4. replica@6383 (Listening port = 6383)
remote: [tester::#NA2] Creating replica@6380
remote: [your_program] Logs from your program will appear here!
remote: [tester::#NA2] [handshake] [replica@6380] $ redis-cli PING
remote: [tester::#NA2] [handshake] [replica@6380] Sent bytes: "*1\r\n$4\r\nPING\r\n"
remote: [your_program] [DEBUG] Executing command: PING  (isReplica: false)
remote: [your_program] [MAIN] Sending response to 127.0.0.1:40994: "+PONG\r\n"
remote: [tester::#NA2] [handshake] [replica@6380] Received bytes: "+PONG\r\n"
remote: [tester::#NA2] [handshake] [replica@6380] Received RESP simple string: "PONG"
remote: [tester::#NA2] [handshake] [replica@6380] ✔︎ Received "PONG"
remote: [tester::#NA2] [handshake] [replica@6380] > REPLCONF listening-port 6380
remote: [tester::#NA2] [handshake] [replica@6380] Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6380\r\n"
remote: [your_program] [DEBUG] Executing command: REPLCONF listening-port 6380 (isReplica: false)
remote: [your_program] [DEBUG] Handling REPLCONF with args: listening-port 6380
remote: [your_program] [MAIN] Sending response to 127.0.0.1:40994: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6380] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6380] Received RESP simple string: "OK"
remote: [tester::#NA2] [handshake] [replica@6380] ✔︎ Received "OK"
remote: [tester::#NA2] [handshake] [replica@6380] > REPLCONF capa psync2
remote: [tester::#NA2] [handshake] [replica@6380] Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"
remote: [tester::#NA2] [handshake] [replica@6380] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6380] Received RESP simple string: "OK"
remote: [your_program] [DEBUG] Executing command: REPLCONF capa psync2 (isReplica: false)
remote: [your_program] [DEBUG] Handling REPLCONF with args: capa psync2
remote: [your_program] [MAIN] Sending response to 127.0.0.1:40994: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6380] ✔︎ Received "OK"
remote: [tester::#NA2] [handshake] [replica@6380] > PSYNC ? -1
remote: [tester::#NA2] [handshake] [replica@6380] Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"
remote: [your_program] [DEBUG] Executing command: PSYNC ? -1 (isReplica: false)
remote: [tester::#NA2] [handshake] [replica@6380] Received bytes: "+FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0\r\n"
remote: [tester::#NA2] [handshake] [replica@6380] Received RESP simple string: "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
remote: [tester::#NA2] [handshake] [replica@6380] ✔︎ Received "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
remote: [tester::#NA2] [handshake] [replica@6380] Reading RDB file...
remote: [tester::#NA2] [handshake] [replica@6380] Received bytes: "$88\r\nREDIS0011\xfa\tredis-ver\x057.2.0\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2m\b\xbce\xfa\bused-mem°\xc4\x10\x00\xfa\baof-base\xc0\x00\xff\xf0n;\xfe\xc0\xffZ\xa2"
remote: [your_program] [MASTER] <<<< PSYNC: Adding replica connection from 127.0.0.1:40994
remote: [tester::#NA2] [handshake] [replica@6380] Received RDB file
remote: [tester::#NA2] Creating replica@6381
remote: [tester::#NA2] [handshake] [replica@6381] $ redis-cli PING
remote: [tester::#NA2] [handshake] [replica@6381] Sent bytes: "*1\r\n$4\r\nPING\r\n"
remote: [tester::#NA2] [handshake] [replica@6381] Received bytes: "+PONG\r\n"
remote: [tester::#NA2] [handshake] [replica@6381] Received RESP simple string: "PONG"
remote: [your_program] [DEBUG] Executing command: PING  (isReplica: false)
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41004: "+PONG\r\n"
remote: [tester::#NA2] [handshake] [replica@6381] ✔︎ Received "PONG"
remote: [tester::#NA2] [handshake] [replica@6381] > REPLCONF listening-port 6381
remote: [tester::#NA2] [handshake] [replica@6381] Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6381\r\n"
remote: [your_program] [DEBUG] Executing command: REPLCONF listening-port 6381 (isReplica: false)
remote: [your_program] [DEBUG] Handling REPLCONF with args: listening-port 6381
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41004: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6381] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6381] Received RESP simple string: "OK"
remote: [tester::#NA2] [handshake] [replica@6381] ✔︎ Received "OK"
remote: [tester::#NA2] [handshake] [replica@6381] > REPLCONF capa psync2
remote: [tester::#NA2] [handshake] [replica@6381] Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"
remote: [tester::#NA2] [handshake] [replica@6381] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6381] Received RESP simple string: "OK"
remote: [your_program] [DEBUG] Executing command: REPLCONF capa psync2 (isReplica: false)
remote: [your_program] [DEBUG] Handling REPLCONF with args: capa psync2
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41004: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6381] ✔︎ Received "OK"
remote: [tester::#NA2] [handshake] [replica@6381] > PSYNC ? -1
remote: [tester::#NA2] [handshake] [replica@6381] Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"
remote: [your_program] [DEBUG] Executing command: PSYNC ? -1 (isReplica: false)
remote: [your_program] [MASTER] <<<< PSYNC: Adding replica connection from 127.0.0.1:41004
remote: [tester::#NA2] [handshake] [replica@6381] Received bytes: "+FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0\r\n"
remote: [tester::#NA2] [handshake] [replica@6381] Received RESP simple string: "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
remote: [tester::#NA2] [handshake] [replica@6381] ✔︎ Received "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
remote: [tester::#NA2] [handshake] [replica@6381] Reading RDB file...
remote: [tester::#NA2] [handshake] [replica@6381] Received bytes: "$88\r\nREDIS0011\xfa\tredis-ver\x057.2.0\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2m\b\xbce\xfa\bused-mem°\xc4\x10\x00\xfa\baof-base\xc0\x00\xff\xf0n;\xfe\xc0\xffZ\xa2"
remote: [tester::#NA2] [handshake] [replica@6381] Received RDB file
remote: [tester::#NA2] Creating replica@6382
remote: [tester::#NA2] [handshake] [replica@6382] $ redis-cli PING
remote: [tester::#NA2] [handshake] [replica@6382] Sent bytes: "*1\r\n$4\r\nPING\r\n"
remote: [your_program] [DEBUG] Executing command: PING  (isReplica: false)
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41010: "+PONG\r\n"
remote: [tester::#NA2] [handshake] [replica@6382] Received bytes: "+PONG\r\n"
remote: [tester::#NA2] [handshake] [replica@6382] Received RESP simple string: "PONG"
remote: [tester::#NA2] [handshake] [replica@6382] ✔︎ Received "PONG"
remote: [tester::#NA2] [handshake] [replica@6382] > REPLCONF listening-port 6382
remote: [tester::#NA2] [handshake] [replica@6382] Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6382\r\n"
remote: [tester::#NA2] [handshake] [replica@6382] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6382] Received RESP simple string: "OK"
remote: [your_program] [DEBUG] Executing command: REPLCONF listening-port 6382 (isReplica: false)
remote: [your_program] [DEBUG] Handling REPLCONF with args: listening-port 6382
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41010: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6382] ✔︎ Received "OK"
remote: [tester::#NA2] [handshake] [replica@6382] > REPLCONF capa psync2
remote: [tester::#NA2] [handshake] [replica@6382] Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"
remote: [tester::#NA2] [handshake] [replica@6382] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6382] Received RESP simple string: "OK"
remote: [your_program] [DEBUG] Executing command: REPLCONF capa psync2 (isReplica: false)
remote: [your_program] [DEBUG] Handling REPLCONF with args: capa psync2
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41010: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6382] ✔︎ Received "OK"
remote: [tester::#NA2] [handshake] [replica@6382] > PSYNC ? -1
remote: [tester::#NA2] [handshake] [replica@6382] Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"
remote: [your_program] [DEBUG] Executing command: PSYNC ? -1 (isReplica: false)
remote: [tester::#NA2] [handshake] [replica@6382] Received bytes: "+FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0\r\n"
remote: [tester::#NA2] [handshake] [replica@6382] Received RESP simple string: "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
remote: [tester::#NA2] [handshake] [replica@6382] ✔︎ Received "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
remote: [tester::#NA2] [handshake] [replica@6382] Reading RDB file...
remote: [your_program] [MASTER] <<<< PSYNC: Adding replica connection from 127.0.0.1:41010
remote: [tester::#NA2] [handshake] [replica@6382] Received bytes: "$88\r\nREDIS0011\xfa\tredis-ver\x057.2.0\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2m\b\xbce\xfa\bused-mem°\xc4\x10\x00\xfa\baof-base\xc0\x00\xff\xf0n;\xfe\xc0\xffZ\xa2"
remote: [tester::#NA2] [handshake] [replica@6382] Received RDB file
remote: [tester::#NA2] Creating replica@6383
remote: [tester::#NA2] [handshake] [replica@6383] $ redis-cli PING
remote: [tester::#NA2] [handshake] [replica@6383] Sent bytes: "*1\r\n$4\r\nPING\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] Received bytes: "+PONG\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] Received RESP simple string: "PONG"
remote: [your_program] [DEBUG] Executing command: PING  (isReplica: false)
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41012: "+PONG\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] ✔︎ Received "PONG"
remote: [tester::#NA2] [handshake] [replica@6383] > REPLCONF listening-port 6383
remote: [tester::#NA2] [handshake] [replica@6383] Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$14\r\nlistening-port\r\n$4\r\n6383\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] Received RESP simple string: "OK"
remote: [your_program] [DEBUG] Executing command: REPLCONF listening-port 6383 (isReplica: false)
remote: [your_program] [DEBUG] Handling REPLCONF with args: listening-port 6383
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41012: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] ✔︎ Received "OK"
remote: [tester::#NA2] [handshake] [replica@6383] > REPLCONF capa psync2
remote: [tester::#NA2] [handshake] [replica@6383] Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$4\r\ncapa\r\n$6\r\npsync2\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] Received RESP simple string: "OK"
remote: [your_program] [DEBUG] Executing command: REPLCONF capa psync2 (isReplica: false)
remote: [your_program] [DEBUG] Handling REPLCONF with args: capa psync2
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41012: "+OK\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] ✔︎ Received "OK"
remote: [tester::#NA2] [handshake] [replica@6383] > PSYNC ? -1
remote: [tester::#NA2] [handshake] [replica@6383] Sent bytes: "*3\r\n$5\r\nPSYNC\r\n$1\r\n?\r\n$2\r\n-1\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] Received bytes: "+FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0\r\n"
remote: [tester::#NA2] [handshake] [replica@6383] Received RESP simple string: "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
remote: [tester::#NA2] [handshake] [replica@6383] ✔︎ Received "FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0"
remote: [tester::#NA2] [handshake] [replica@6383] Reading RDB file...
remote: [your_program] [DEBUG] Executing command: PSYNC ? -1 (isReplica: false)
remote: [your_program] [MASTER] <<<< PSYNC: Adding replica connection from 127.0.0.1:41012
remote: [tester::#NA2] [handshake] [replica@6383] Received bytes: "$88\r\nREDIS0011\xfa\tredis-ver\x057.2.0\xfa\nredis-bits\xc0@\xfa\x05ctime\xc2m\b\xbce\xfa\bused-mem°\xc4\x10\x00\xfa\baof-base\xc0\x00\xff\xf0n;\xfe\xc0\xffZ\xa2"
remote: [tester::#NA2] [handshake] [replica@6383] Received RDB file
remote: [tester::#NA2] [test] [client] $ redis-cli SET foo 123
remote: [tester::#NA2] [test] [client] Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"
remote: [your_program] [DEBUG] Executing command: SET foo 123 (isReplica: false)
remote: [your_program] [MASTER] Propagating command to replicas: SET foo 123
remote: [your_program] [MASTER] Sending to 4 replicas: SET foo 123
remote: [your_program] [MASTER] Encoded command: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"
remote: [your_program] [MASTER] Replica 0: 127.0.0.1:40994
remote: [your_program] [MASTER] Replica 1: 127.0.0.1:41004
remote: [your_program] [MASTER] Replica 2: 127.0.0.1:41010
remote: [your_program] [MASTER] Replica 3: 127.0.0.1:41012
remote: [your_program] [DEBUG] Incremented pending commands to 1
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $3
remote: [your_program] SET
remote: [your_program] $3
remote: [your_program] foo
remote: [your_program] $3
remote: [your_program] 123
remote: [your_program]
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $3
remote: [your_program] SET
remote: [your_program] $3
remote: [your_program] foo
remote: [your_program] $3
remote: [your_program] 123
remote: [your_program]
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $3
remote: [your_program] SET
remote: [your_program] $3
remote: [your_program] foo
remote: [your_program] $3
remote: [your_program] 123
remote: [your_program]
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $3
remote: [your_program] SET
remote: [your_program] $3
remote: [your_program] foo
remote: [your_program] $3
remote: [your_program] 123
remote: [your_program]
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41026: "+OK\r\n"
remote: [tester::#NA2] [test] [client] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [test] [client] Received RESP simple string: "OK"
remote: [tester::#NA2] [test] [client] ✔︎ Received "OK"
remote: [tester::#NA2] [test] [client] > WAIT 1 500
remote: [tester::#NA2] [test] [client] Sent bytes: "*3\r\n$4\r\nWAIT\r\n$1\r\n1\r\n$3\r\n500\r\n"
remote: [tester::#NA2] [test] Testing Replica: replica@6380
remote: [tester::#NA2] [test] [replica@6380] Expecting "SET foo 123" to be propagated
remote: [tester::#NA2] [test] [replica@6380] Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"
remote: [tester::#NA2] [test] [replica@6380] Received RESP array: ["SET", "foo", "123"]
remote: [tester::#NA2] [test] [replica@6380] ✔︎ Received ["SET", "foo", "123"]
remote: [tester::#NA2] [test] [replica@6380] Expecting "REPLCONF GETACK *" from Master
remote: [your_program] [DEBUG] Executing command: WAIT 1 500 (isReplica: false)
remote: [your_program] [DEBUG] WAIT command: requesting 1 replicas, timeout 500ms
remote: [your_program] [DEBUG] Currently have 4 connected replicas
remote: [your_program] [DEBUG] waitForReplicas: need 1, timeout 500ms, pending=1
remote: [your_program] [DEBUG] Sending GETACK to 4 replicas
remote: [your_program] [MASTER] Sending to 4 replicas: REPLCONF GETACK *
remote: [your_program] [MASTER] Encoded command: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"
remote: [your_program] [MASTER] Replica 0: 127.0.0.1:40994
remote: [your_program] [MASTER] Replica 1: 127.0.0.1:41004
remote: [your_program] [MASTER] Replica 2: 127.0.0.1:41010
remote: [your_program] [MASTER] Replica 3: 127.0.0.1:41012
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $8
remote: [your_program] REPLCONF
remote: [your_program] $6
remote: [your_program] GETACK
remote: [your_program] $1
remote: [your_program] *
remote: [your_program]
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $8
remote: [your_program] REPLCONF
remote: [your_program] $6
remote: [your_program] GETACK
remote: [your_program] $1
remote: [your_program] *
remote: [your_program]
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $8
remote: [your_program] REPLCONF
remote: [your_program] $6
remote: [your_program] GETACK
remote: [your_program] $1
remote: [your_program] *
remote: [your_program]
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $8
remote: [your_program] REPLCONF
remote: [your_program] $6
remote: [your_program] GETACK
remote: [your_program] $1
remote: [your_program] *
remote: [your_program]
remote: [tester::#NA2] [test] [replica@6380] Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"
remote: [tester::#NA2] [test] [replica@6380] Received RESP array: ["REPLCONF", "GETACK", "*"]
remote: [tester::#NA2] [test] [replica@6380] ✔︎ Received ["REPLCONF", "GETACK", "*"]
remote: [tester::#NA2] [test] [replica@6380] Sending ACK to Master
remote: [tester::#NA2] [test] [replica@6380] > REPLCONF ACK 31
remote: [tester::#NA2] [test] [replica@6380] Sent bytes: "*3\r\n$8\r\nREPLCONF\r\n$3\r\nACK\r\n$2\r\n31\r\n"
remote: [tester::#NA2] [test] Testing Replica: replica@6381
remote: [tester::#NA2] [test] [replica@6381] Expecting "SET foo 123" to be propagated
remote: [tester::#NA2] [test] [replica@6381] Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"
remote: [tester::#NA2] [test] [replica@6381] Received RESP array: ["SET", "foo", "123"]
remote: [tester::#NA2] [test] [replica@6381] ✔︎ Received ["SET", "foo", "123"]
remote: [tester::#NA2] [test] [replica@6381] Expecting "REPLCONF GETACK *" from Master
remote: [your_program] [DEBUG] Executing command: REPLCONF ACK 31 (isReplica: false)
remote: [your_program] [DEBUG] Handling REPLCONF with args: ACK 31
remote: [your_program] [DEBUG] Received ACK from replica with offset: 31
remote: [your_program] [DEBUG] Received ACK: ackCount=1, pendingCommands=0
remote: [your_program] [MAIN] Sending response to 127.0.0.1:40994: "+OK\r\n"
remote: [tester::#NA2] [test] [replica@6381] Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"
remote: [tester::#NA2] [test] [replica@6381] Received RESP array: ["REPLCONF", "GETACK", "*"]
remote: [tester::#NA2] [test] [replica@6381] ✔︎ Received ["REPLCONF", "GETACK", "*"]
remote: [tester::#NA2] [test] [replica@6381] Not sending ACK to Master
remote: [tester::#NA2] [test] Testing Replica: replica@6382
remote: [tester::#NA2] [test] [replica@6382] Expecting "SET foo 123" to be propagated
remote: [tester::#NA2] [test] [replica@6382] Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"
remote: [tester::#NA2] [test] [replica@6382] Received RESP array: ["SET", "foo", "123"]
remote: [tester::#NA2] [test] [replica@6382] ✔︎ Received ["SET", "foo", "123"]
remote: [tester::#NA2] [test] [replica@6382] Expecting "REPLCONF GETACK *" from Master
remote: [tester::#NA2] [test] [replica@6382] Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"
remote: [tester::#NA2] [test] [replica@6382] Received RESP array: ["REPLCONF", "GETACK", "*"]
remote: [tester::#NA2] [test] [replica@6382] ✔︎ Received ["REPLCONF", "GETACK", "*"]
remote: [tester::#NA2] [test] [replica@6382] Not sending ACK to Master
remote: [tester::#NA2] [test] Testing Replica: replica@6383
remote: [tester::#NA2] [test] [replica@6383] Expecting "SET foo 123" to be propagated
remote: [tester::#NA2] [test] [replica@6383] Received bytes: "*3\r\n$3\r\nSET\r\n$3\r\nfoo\r\n$3\r\n123\r\n"
remote: [tester::#NA2] [test] [replica@6383] Received RESP array: ["SET", "foo", "123"]
remote: [tester::#NA2] [test] [replica@6383] ✔︎ Received ["SET", "foo", "123"]
remote: [tester::#NA2] [test] [replica@6383] Expecting "REPLCONF GETACK *" from Master
remote: [tester::#NA2] [test] [replica@6383] Received bytes: "*3\r\n$8\r\nREPLCONF\r\n$6\r\nGETACK\r\n$1\r\n*\r\n"
remote: [tester::#NA2] [test] [replica@6383] Received RESP array: ["REPLCONF", "GETACK", "*"]
remote: [tester::#NA2] [test] [replica@6383] ✔︎ Received ["REPLCONF", "GETACK", "*"]
remote: [tester::#NA2] [test] [replica@6383] Not sending ACK to Master
remote: [your_program] [DEBUG] WAIT completed: ackCount=1, timeout=false
remote: [your_program] [DEBUG] WAIT completed: 1 replicas acknowledged
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41026: ":1\r\n"
remote: [tester::#NA2] [test] [client] Received bytes: ":1\r\n"
remote: [tester::#NA2] [test] [client] Received RESP integer: 1
remote: [tester::#NA2] [test] Passed first WAIT test.
remote: [tester::#NA2] [test] [client] > SET baz 789
remote: [tester::#NA2] [test] [client] Sent bytes: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"
remote: [tester::#NA2] [test] [client] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [test] [client] Received RESP simple string: "OK"
remote: [your_program] [DEBUG] Executing command: SET baz 789 (isReplica: false)
remote: [your_program] [MASTER] Propagating command to replicas: SET baz 789
remote: [your_program] [MASTER] Sending to 4 replicas: SET baz 789
remote: [your_program] [MASTER] Encoded command: "*3\r\n$3\r\nSET\r\n$3\r\nbaz\r\n$3\r\n789\r\n"
remote: [your_program] [MASTER] Replica 0: 127.0.0.1:40994
remote: [your_program] [MASTER] Replica 1: 127.0.0.1:41004
remote: [your_program] [MASTER] Replica 2: 127.0.0.1:41010
remote: [your_program] [MASTER] Replica 3: 127.0.0.1:41012
remote: [your_program] [DEBUG] Incremented pending commands to 1
remote: [tester::#NA2] [test] [client] ✔︎ Received "OK"
remote: [tester::#NA2] [test] [client] > WAIT 4 2000
remote: [tester::#NA2] [test] [client] Sent bytes: "*3\r\n$4\r\nWAIT\r\n$1\r\n4\r\n$4\r\n2000\r\n"
remote: [tester::#NA2] [test] Testing Replica: replica@6380
remote: [tester::#NA2] [test] [replica@6380] Expecting "SET baz 789" to be propagated
remote: [tester::#NA2] [test] [replica@6380] Received bytes: "+OK\r\n"
remote: [tester::#NA2] [test] [replica@6380] Received RESP simple string: "OK"
remote: [tester::#NA2] Expected array type, got simple string
remote: [tester::#NA2] Test failed
remote: [tester::#NA2] Terminating program
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $3
remote: [your_program] SET
remote: [your_program] $3
remote: [your_program] baz
remote: [your_program] $3
remote: [your_program] 789
remote: [your_program]
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $3
remote: [your_program] SET
remote: [your_program] $3
remote: [your_program] baz
remote: [your_program] $3
remote: [your_program] 789
remote: [your_program]
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $3
remote: [your_program] SET
remote: [your_program] $3
remote: [your_program] baz
remote: [your_program] $3
remote: [your_program] 789
remote: [your_program]
remote: [your_program] [DEBUG] Sending command to replica: *3
remote: [your_program] $3
remote: [your_program] SET
remote: [your_program] $3
remote: [your_program] baz
remote: [your_program] $3
remote: [your_program] 789
remote: [your_program]
remote: [your_program] [MAIN] Sending response to 127.0.0.1:41026: "+OK\r\n"
remote: [tester::#NA2] Program terminated successfully